<html>

<head>
	<title>Prueba D3</title>
	<script src="js/d3.min.js" charset="utf-8"></script>
</head>
<body>

	<h3>Prueba desde D3</h3>

	<script>
//		d3.json("http://localhost/dataviz.com/json/testExtraction.json", function (data) 
		d3.json("http://localhost/dataviz.com/json/test.json", function (data) 
//		d3.json("http://localhost/dataviz.com/json/testOutJsonFromDataBase.json", function (data) 
		{

			console.log("Salida variable data: " + data);

			var canvas = d3.select("body").append("svg")
			.attr("width", 1024)
			.attr("height", 500)

			canvas.selectAll("rect")
				.data(data)
				.enter()
					.append("rect")
					.attr("width", function (d) {return d.age * 10;})
					.attr("height", 40)
					.attr("y", function (d, i) {return i * 50;})
					.attr("fill","green");

			canvas.selectAll("text")		
				.data(data)
				.enter()
					.append("text")
					.attr("fill","white")
					.attr("y", function (d, i) {return i * 50 + 24;})
					.text(function (d) {return d.name;})
		})
	</script>
</body>
</html>